{
  "schema_version": "1.0",
  "theme_id": "harry-potter",
  "theme_name": "Harry Potter",
  "base_theme": "classic",
  "description": "A Harry Potter themed variant of Mafia where Death Eaters have infiltrated the Order of the Phoenix.",

  "role_mappings": [
    {
      "base_role": "mafia",
      "overrides": {
        "name": "Death Eater",
        "description": "You are a Death Eater serving the Dark Lord. Eliminate Order members while avoiding detection.",
        "cardInstructions": [
          "You are a Death Eater. Keep this secret!",
          "Your Dark Mark burns, revealing other Death Eaters to you.",
          "Each night, work with fellow Death Eaters to eliminate an Order member.",
          "During the day, blend in and avoid suspicion.",
          "Win by equaling or outnumbering the Order."
        ]
      },
      "flavor": {
        "icon": "dark-mark",
        "color": "#1a472a",
        "flavorText": "The Dark Mark burns on your arm..."
      }
    },
    {
      "base_role": "detective",
      "overrides": {
        "name": "Dumbledore",
        "description": "You are Albus Dumbledore. Use your wisdom to sense the presence of dark magic.",
        "abilities": [
          {
            "id": "investigate",
            "name": "Sense Dark Magic",
            "description": "Point to one player. The Game Master will reveal if they serve the Dark Lord or the Order.",
            "phase": "night",
            "target": "single_player",
            "collective": false,
            "uses": "unlimited"
          }
        ],
        "cardInstructions": [
          "You are Dumbledore. Keep this secret!",
          "Each night, you can sense if someone has the Dark Mark.",
          "Use your wisdom carefully without revealing yourself.",
          "Win by eliminating all Death Eaters."
        ]
      },
      "flavor": {
        "icon": "dumbledore",
        "color": "#740001",
        "flavorText": "Your wisdom allows you to sense dark magic..."
      }
    },
    {
      "base_role": "doctor",
      "overrides": {
        "name": "Madam Pomfrey",
        "description": "You are Madam Pomfrey, the Hogwarts healer. Use your healing magic to save Order members from Death Eater attacks.",
        "abilities": [
          {
            "id": "protect",
            "name": "Healing Magic",
            "description": "Use healing magic on one player to protect them from Death Eaters. You can protect yourself.",
            "phase": "night",
            "target": "single_player",
            "collective": false,
            "uses": "unlimited",
            "restrictions": [
              "Cannot protect the same player two nights in a row"
            ]
          }
        ],
        "cardInstructions": [
          "You are Madam Pomfrey. Keep this secret!",
          "Each night, use your healing magic on one player.",
          "You cannot protect the same player twice in a row.",
          "Win by eliminating all Death Eaters."
        ]
      },
      "flavor": {
        "icon": "pomfrey",
        "color": "#ae0001",
        "flavorText": "Your healing magic can save lives..."
      }
    },
    {
      "base_role": "vigilante",
      "overrides": {
        "name": "Mad-Eye Moody",
        "description": "You are Mad-Eye Moody. Your constant vigilance and combat experience allow you to take decisive action against suspected Death Eaters.",
        "abilities": [
          {
            "id": "night_kill",
            "name": "Vigilante Strike",
            "description": "Choose one player to eliminate during the night. You can do this up to 2 times per game. Be careful not to eliminate innocent Order members!",
            "phase": "night",
            "target": "single_player",
            "collective": false,
            "uses": "limited",
            "maxUses": 2
          }
        ],
        "cardInstructions": [
          "You are Mad-Eye Moody. Keep this secret!",
          "You can eliminate up to 2 suspected Death Eaters during night phases.",
          "Use your kills wisely - you might accidentally eliminate an Order member!",
          "Constant vigilance means taking action when needed.",
          "Win by eliminating all Death Eaters."
        ]
      },
      "flavor": {
        "icon": "moody",
        "color": "#ae0001",
        "flavorText": "Constant vigilance! When you see a threat, eliminate it..."
      }
    },
    {
      "base_role": "townsperson",
      "overrides": {
        "name": "Order Member",
        "description": "You are a member of the Order of the Phoenix. Use your voice and vote to identify Death Eaters.",
        "cardInstructions": [
          "You are an Order Member.",
          "You have no special abilities.",
          "Use logic and discussion to find the Death Eaters.",
          "Vote to send suspected Death Eaters to Azkaban.",
          "Win by eliminating all Death Eaters."
        ]
      },
      "flavor": {
        "icon": "order-phoenix",
        "color": "#ae0001",
        "flavorText": "You fight for the light against the darkness..."
      }
    }
  ],

  "new_roles": [
    {
      "id": "voldemort",
      "name": "Voldemort",
      "alignment": "evil",
      "description": "You are the Dark Lord. You lead the Death Eaters and appear innocent to investigations.",
      "abilities": [
        {
          "id": "night_kill",
          "name": "Avada Kedavra",
          "description": "Work with Death Eaters to choose one Order member to eliminate each night.",
          "phase": "night",
          "target": "single_player",
          "collective": true
        },
        {
          "id": "investigation_immunity",
          "name": "Dark Magic Concealment",
          "description": "You appear as an Order member to magical investigations.",
          "phase": "passive",
          "target": "self"
        }
      ],
      "knowledge": [
        {
          "type": "other_mafia",
          "description": "You know the identities of all Death Eaters."
        }
      ],
      "winCondition": {
        "type": "equal_or_outnumber",
        "target": "town",
        "description": "Death Eaters win when they equal or outnumber the Order members."
      },
      "cardInstructions": [
        "You are the Dark Lord. Keep this secret!",
        "You appear innocent to Dumbledore's investigations.",
        "Lead the Death Eaters in eliminating the Order.",
        "Win by equaling or outnumbering the Order."
      ],
      "flavor": {
        "icon": "voldemort",
        "color": "#0d0d0d",
        "flavorText": "The Dark Lord rises again..."
      }
    }
  ],

  "role_distribution_presets": {
    "7_players": {
      "mafia": 2,
      "detective": 1,
      "doctor": 1,
      "townsperson": 3
    },
    "10_players": {
      "mafia": 3,
      "detective": 1,
      "doctor": 1,
      "townsperson": 5
    },
    "13_players": {
      "mafia": 3,
      "detective": 1,
      "doctor": 1,
      "vigilante": 1,
      "townsperson": 7
    },
    "15_players": {
      "voldemort": 1,
      "mafia": 3,
      "detective": 1,
      "doctor": 1,
      "vigilante": 1,
      "townsperson": 8
    },
    "18_players": {
      "voldemort": 1,
      "mafia": 4,
      "detective": 1,
      "doctor": 1,
      "vigilante": 1,
      "townsperson": 10
    }
  },

  "game_flow_overrides": {
    "night_order": [
      "death_eaters",
      "mad_eye_moody",
      "dumbledore",
      "madam_pomfrey"
    ],
    "day_announcement_templates": {
      "elimination": "Last night, {player_name} was attacked by Death Eaters. They were {role}.",
      "saved": "Last night, Death Eaters attacked, but their target was protected by powerful magic!",
      "vote_out": "{player_name} has been sent to Azkaban. They were {role}."
    }
  },

  "flavor_text": {
    "game_start": "Death Eaters have infiltrated the Order of the Phoenix! Find them before it's too late.",
    "town_win": "The Order of the Phoenix has prevailed! All Death Eaters have been captured.",
    "mafia_win": "The Dark Lord has won! Death Eaters now control the Order.",
    "night_falls": "Night falls over headquarters. Everyone close your eyes and go to sleep.",
    "day_breaks": "Dawn breaks over headquarters. Everyone open your eyes."
  },

  "metadata": {
    "game_name": "Harry Potter",
    "min_players": 7,
    "max_players": 999,
    "recommended_players": "10-15",
    "complexity": "beginner",
    "author": "Community",
    "version": "1.0"
  }
}
